@page "/coleccionesGenericas"

<h1 class="text-center mt-4">Lista</h1>

<div class="container mt-4">
    <div class="row mb-3">
        <div class="col">
            <input type="number" class="form-control" @bind="numeroAAgregar" placeholder="Número a agregar" />
        </div>
    </div>

    <div class="row mb-3">
        <div class="col">
            <button class="btn btn-primary w-100" @onclick="AgregarElementoLista">Agregar Elemento a la Lista</button>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col">
            <input type="number" class="form-control" @bind="indiceAEliminar" placeholder="Índice a eliminar" />
        </div>
    </div>

    <div class="row mb-3">
        <div class="col">
            <button class="btn btn-primary w-100" @onclick="EliminarElementoLista">Eliminar Elemento de la Lista</button>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col">
            <button class="btn btn-primary w-100" @onclick="MostrarTodosLosMensajes">Mostrar Todos los Mensajes</button>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col">
            <button class="btn btn-primary w-100" @onclick="MostrarElementoLista">Mostrar Primer Elemento de la Lista</button>
        </div>
    </div>

    <div class="row mb-3">
        <div class="col">
            <p role="status" class="alert alert-info text-center">@MensajeLista</p>
        </div>
    </div>
</div>

@code {
    private List<int> numbers;
    private string MensajeLista = "";
    private int numeroAAgregar;
    private int indiceAEliminar;

    protected override void OnInitialized()
    {
        // Inicializar la lista aquí
        numbers = new List<int> { 1, 2, 3, 4, 5 };
        // numbers.Add(6);
        // numbers.Remove(2);
    }

    private void MostrarTodosLosMensajes()
    {
        // Mostrar la lista completa
        MensajeLista = $"Lista: {string.Join(", ", numbers)}";
    }

    private void MostrarElementoLista()
    {
        // Mostrar el primer elemento de la lista
        if (numbers.Count > 0)
        {
            MensajeLista = $"Primer elemento de la lista: {numbers[4]}";
        }
        else
        {
            MensajeLista = "La lista está vacía.";
        }
    }

    private void AgregarElementoLista()
    {
        // Agregar un nuevo elemento a la lista
        numbers.Add(numeroAAgregar);
        MensajeLista = $"Elemento añadido. Lista: {string.Join(", ", numbers)}";
    }

    private void EliminarElementoLista()
    {
        // Eliminar el elemento en el índice especificado de la lista
        if (indiceAEliminar >= 0 && indiceAEliminar < numbers.Count)
        {
            numbers.RemoveAt(indiceAEliminar);
            MensajeLista = $"Elemento en el índice {indiceAEliminar} eliminado. Lista: {string.Join(", ", numbers)}";
        }
        else
        {
            MensajeLista = "Índice inválido.";
        }
    }
}
